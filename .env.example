# =============================================================================
# DocSynth Environment Configuration
# Copy this file to .env: cp .env.example .env
# =============================================================================


# =============================================================================
# REQUIRED — The app will not start without these
# =============================================================================

# PostgreSQL connection string (default works with docker-compose)
DATABASE_URL=postgresql://docsynth:docsynth_dev@localhost:5432/docsynth

# Redis connection string (default works with docker-compose)
REDIS_URL=redis://localhost:6379

# Session and JWT secrets (minimum 32 characters each)
# Generate with: openssl rand -hex 32
SESSION_SECRET=CHANGE_ME_run_openssl_rand_hex_32
JWT_SECRET=CHANGE_ME_run_openssl_rand_hex_32


# =============================================================================
# DEMO MODE — Enabled by default for quick setup
# =============================================================================
# When enabled, the app runs without GitHub credentials using sample data.
# Great for trying out DocSynth before connecting a real repository.
# Set to false and configure the GitHub App section below for production use.

DEMO_MODE=true


# =============================================================================
# GITHUB APP — Required unless DEMO_MODE=true
# =============================================================================
# Create a GitHub App: https://github.com/settings/apps
# Full setup guide: https://docsynth.dev/docs/getting-started/github-app-setup

GITHUB_APP_ID=your_app_id
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nyour_private_key_here\n-----END RSA PRIVATE KEY-----"
GITHUB_CLIENT_ID=your_client_id
GITHUB_CLIENT_SECRET=your_client_secret
GITHUB_WEBHOOK_SECRET=your_webhook_secret


# =============================================================================
# OPTIONAL — Defaults work for local development
# =============================================================================

# Node environment
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=debug

# GitHub Copilot SDK (optional LLM provider)
# COPILOT_API_KEY=your_copilot_api_key

# Application URLs
APP_URL=http://localhost:3000
API_URL=http://localhost:3001

# Web dashboard (NEXT_PUBLIC_ vars are exposed to the browser)
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_DEMO_MODE=true


# =============================================================================
# OPTIONAL INTEGRATIONS — Uncomment and configure as needed
# =============================================================================

# Stripe (billing)
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# Jira
# JIRA_BASE_URL=https://your-company.atlassian.net
# JIRA_EMAIL=your-email@company.com
# JIRA_API_TOKEN=your_jira_api_token
# JIRA_PROJECT_KEY=PROJ

# Slack
# SLACK_BOT_TOKEN=xoxb-your-bot-token
# SLACK_DEFAULT_CHANNEL=C123456

# Linear
# LINEAR_API_KEY=lin_api_your_api_key
# LINEAR_TEAM_ID=your_team_id

# Confluence
# CONFLUENCE_BASE_URL=https://your-company.atlassian.net
# CONFLUENCE_EMAIL=your-email@company.com
# CONFLUENCE_API_TOKEN=your_confluence_api_token
# CONFLUENCE_SPACE_KEY=DOC

# Notion
# NOTION_API_TOKEN=secret_your_notion_token
# NOTION_DATABASE_ID=your_database_id
